#!/bin/sh

rm -f Makefile
touch Makefile

folders="amimullvad apt-du bye droidmnt extract git-cloc nsa-name open-term vimv yt-music"

{
	printf "OBJ = $folders\\n\\n" "$folders"
	printf "all: "
	for file in $folders; do
		printf "%s " "$file"
	done

	echo
	echo

	for file in $folders; do
		printf '%s: %s.sh\n' "$file" "$file"
		printf '\tmkdir -p bin\n'
		printf '\tcat %s.sh > bin/%s\n' "$file" "$file"
		printf '\tchmod a+x bin/%s\n\n' "$file"
	done

	cat << 'EOF'
install:
    cp bin/* /usr/local/bin

uninstall:
EOF

	for file in $folders; do
		printf "\\trm -f /usr/local/bin/%s\n" "$file"
	done

	cat << 'EOF'

clean:
    rm -f $(OBJ)
EOF

} > Makefile
